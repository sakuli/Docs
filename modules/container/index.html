<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    
      
      
      <script data-name="googleanalytics" data-type="application/javascript" type="text/plain">(function (w, d, s, l, i) {
                      w[l] = w[l] || []; w[l].push({
                          'gtm.start':
                              new Date().getTime(), event: 'gtm.js'
                      }); var f = d.getElementsByTagName(s)[0],
                          j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                              'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
                  })(window, document, 'script', 'dataLayer', 'GTM-TMFSKHB');</script>
      
    
    
      <script data-type="application/javascript" type="text/plain" data-src="https://app.primeleads.de/api/v1/4uewa4e9rh"
        data-name="primeLeads"></script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="description" content="">


    <link rel="icon" href="/docs/images/favicon.png" type="image/png">

    <title>Sakuli</title>

    
    <link href="/docs/css/nucleus.css" rel="stylesheet">
    <link href="/docs/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="/docs/css/hybrid.css" rel="stylesheet">
    <link href="/docs/css/featherlight.min.css" rel="stylesheet">
    <link href="/docs/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/docs/css/auto-complete.css" rel="stylesheet">
    <link href="/docs/css/atom-one-dark-reasonable.css" rel="stylesheet">
    <link href="/docs/css/theme.css" rel="stylesheet">
    <link href="/docs/css/hugo-theme.css" rel="stylesheet">
    

    <script src="/docs/js/jquery-3.3.1.min.js"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/docs/modules/container/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
  <img src="/docs/images/sakuli_01.svg" style="width: 250px; display: block; height: auto" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/docs/js/lunr.min.js"></script>
<script type="text/javascript" src="/docs/js/auto-complete.js"></script>
<script type="text/javascript">
    
        var baseurl = "\/docs";
    
</script>
<script type="text/javascript" src="/docs/js/search.js"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/docs/getting-started/" title="Getting Started" class="dd-item
        
        
        
        ">
      <a href="/docs/getting-started/">
          <i class='fas fa-chevron-right'></i>  Getting Started
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/prerequisites/" title="Prerequisites" class="dd-item ">
        <a href="/docs/getting-started/prerequisites/">
        Prerequisites
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/initialization/" title="Initialization" class="dd-item ">
        <a href="/docs/getting-started/initialization/">
        Initialization
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/installation/" title="Installation" class="dd-item ">
        <a href="/docs/getting-started/installation/">
        Installation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/firsttest/" title="First Setup" class="dd-item ">
        <a href="/docs/getting-started/firsttest/">
        First Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/version-control/" title="Version control systems" class="dd-item ">
        <a href="/docs/getting-started/version-control/">
        Version control systems
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/writing_tests/" title="Writing Tests" class="dd-item
        
        
        
        ">
      <a href="/docs/writing_tests/">
          <i class='fas fa-chevron-right'></i>  Writing Tests
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/anatomy/" title="Anatomy" class="dd-item ">
        <a href="/docs/writing_tests/anatomy/">
        Anatomy
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/interact/" title="Interact" class="dd-item ">
        <a href="/docs/writing_tests/interact/">
        Interact
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/screenshot/" title="Screenshot" class="dd-item ">
        <a href="/docs/writing_tests/screenshot/">
        Screenshot
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/application/" title="Native applications" class="dd-item ">
        <a href="/docs/writing_tests/application/">
        Native applications
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/webtests/" title="Webtests" class="dd-item ">
        <a href="/docs/writing_tests/webtests/">
        Webtests
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/tutorial/" title="Tutorial" class="dd-item ">
        <a href="/docs/writing_tests/tutorial/">
        Tutorial
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/migration-sakuli-1/" title="Migration from Sakuli 1" class="dd-item ">
        <a href="/docs/writing_tests/migration-sakuli-1/">
        Migration from Sakuli 1
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/configuring_tests/" title="Configuring Tests" class="dd-item
        
        
        
        ">
      <a href="/docs/configuring_tests/">
          <i class='fas fa-chevron-right'></i>  Configuring Tests
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/configuring_tests/sakuli-properties/" title="Sakuli properties" class="dd-item ">
        <a href="/docs/configuring_tests/sakuli-properties/">
        Sakuli properties
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/configuring_tests/logging/" title="Logging" class="dd-item ">
        <a href="/docs/configuring_tests/logging/">
        Logging
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/modules/" title="Modules" class="dd-item
        parent
        
        
        ">
      <a href="/docs/modules/">
          <i class='fas fa-chevron-right'></i>  Modules
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/icinga/" title="Icinga2 Forwarder" class="dd-item ">
        <a href="/docs/modules/icinga/">
        Icinga2 Forwarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/prometheus/" title="Prometheus Fowarder" class="dd-item ">
        <a href="/docs/modules/prometheus/">
        Prometheus Fowarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/check/" title="checkmk Fowarder" class="dd-item ">
        <a href="/docs/modules/check/">
        checkmk Fowarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/omd/" title="OMD Forwarder" class="dd-item ">
        <a href="/docs/modules/omd/">
        OMD Forwarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/container/" title="Container" class="dd-item active">
        <a href="/docs/modules/container/">
        Container
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/s2i/" title="S2I Image" class="dd-item ">
        <a href="/docs/modules/s2i/">
        S2I Image
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/sakuli-dashboard-deployment/" title="Sakuli Dashboard" class="dd-item ">
        <a href="/docs/modules/sakuli-dashboard-deployment/">
        Sakuli Dashboard
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/sakuli-dashboard-configuration/" title="Sakuli Dashboard Configuration" class="dd-item ">
        <a href="/docs/modules/sakuli-dashboard-configuration/">
        Sakuli Dashboard Configuration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/ocr/" title="Optical character recognition (OCR)" class="dd-item ">
        <a href="/docs/modules/ocr/">
        Optical character recognition (OCR)
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/cli/" title="CLI" class="dd-item
        
        
        
        ">
      <a href="/docs/cli/">
          <i class='fas fa-chevron-right'></i>  CLI
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/cookbook/" title="Cookbook" class="dd-item
        
        
        
        ">
      <a href="/docs/cookbook/">
          <i class='fas fa-chevron-right'></i>  Cookbook
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/tabs/" title="Tabs" class="dd-item ">
        <a href="/docs/cookbook/tabs/">
        Tabs
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/logging/" title="Logging" class="dd-item ">
        <a href="/docs/cookbook/logging/">
        Logging
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/handling-forms/" title="Handling forms" class="dd-item ">
        <a href="/docs/cookbook/handling-forms/">
        Handling forms
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/waiting/" title="Waiting" class="dd-item ">
        <a href="/docs/cookbook/waiting/">
        Waiting
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/invalid-session-id/" title="Error: Invalid session id" class="dd-item ">
        <a href="/docs/cookbook/invalid-session-id/">
        Error: Invalid session id
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/container/" title="Run Container" class="dd-item ">
        <a href="/docs/cookbook/container/">
        Run Container
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/proxy/" title="Container and Proxies" class="dd-item ">
        <a href="/docs/cookbook/proxy/">
        Container and Proxies
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/frames/" title="Frames" class="dd-item ">
        <a href="/docs/cookbook/frames/">
        Frames
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/change_notes/" title="Change notes" class="dd-item
        
        
        
        ">
      <a href="/docs/change_notes/">
          <i class='fas fa-chevron-right'></i>  Change notes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/change_notes/2.3.0/" title="V2.3.0" class="dd-item ">
        <a href="/docs/change_notes/2.3.0/">
        V2.3.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/change_notes/2.4.0/" title="V2.4.0" class="dd-item ">
        <a href="/docs/change_notes/2.4.0/">
        V2.4.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/change_notes/2.5.0/" title="V2.5.0" class="dd-item ">
        <a href="/docs/change_notes/2.5.0/">
        V2.5.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      


      
      <div id="apiHead" class="padding">API Docs</div>
      <ul id="apiMenu">
        <li><a href="/apidoc/sakuli-legacy" target="_blank" >@sakuli/legacy</a></li>
      </ul>

      

      <hr/>

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      <li>
        <a class="padding" onclick="klaro.show();return false;">
          <i class="fas fa-cog fa-fw"></i> Cookie Settings
        </a>
      </li>
      <li>
        <a class="padding" href="/dataprivacy/">
          <i class="fas fa-user-secret fa-fw"></i> Data Privacy
        </a>
      </li>
      <li>
        <a class="padding" href="/legalnotice/">
          <i class="fas fa-balance-scale fa-fw"></i> Legal Notice
        </a>
      </li>
      
      </ul>
    </section>
    
    <section id="footer">
      

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt" ></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/docs/'></a> > <a href='/docs/modules/'>Modules</a> > Container
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-obtaining-the-image">1 Obtaining the Image</a></li>
    <li><a href="#running-sakuli-test-containers">2 Running Sakuli Test Containers</a></li>
    <li><a href="#3-anatomy-of-a-containerized-sakuli-test">3 Anatomy of a Containerized Sakuli Test</a></li>
    <li><a href="#4-configuring-a-containerized-test">4 Configuring a Containerized Test</a>
      <ul>
        <li><a href="#41-provide-the-test-project-to-the-container">4.1 Provide the test project to the container</a></li>
        <li><a href="#42-configure-command-on-npm-test">4.2 Configure command on <code>npm test</code></a></li>
      </ul>
    </li>
    <li><a href="#5-viewing--configuring-test-execution">5 Viewing / Configuring Test Execution</a>
      <ul>
        <li><a href="#51-vnc-access">5.1 VNC Access</a></li>
        <li><a href="#52-configuring-vnc-access">5.2 Configuring VNC Access</a></li>
        <li><a href="#53-container-user">5.3 Container User</a></li>
      </ul>
    </li>
    <li><a href="#6-custom-certificates">6 Custom Certificates</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#remote-connection-container">7 Remote desktop protocol (RDP) connections</a>
      <ul>
        <li><a href="#71-rdp-example">7.1 RDP example</a></li>
      </ul>
    </li>
    <li><a href="#8-overview-environment-variables">8 Overview Environment Variables</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            
          

        



<h1 id="pre-configured-container">Pre-configured Container</h1>
<p>This image is ready to go and ships with already installed:</p>
<ul>
<li>Sakuli</li>
<li>Icinga2 / checkmk / OMD / Prometheus Forwarder</li>
<li>VNC / noVNC</li>
<li>Chrome / Firefox (incl. webdriver)</li>
</ul>
<h2 id="1-obtaining-the-image">1 Obtaining the Image</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker pull taconsol/sakuli:&lt;IMAGE_TAG&gt;</code></pre></div>
<p>Tech previews of Sakuli containers are published as <code>latest</code>.
We highly recommend specifying the exact version of Sakuli for productive tests/checks.</p>
<p>Containers are tagged according to Sakuli versions, so in order to use Sakuli v2.4.0-1 in a test, one would pull the following image:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker pull taconsol/sakuli:2.1.2</code></pre></div>
<p>You can find a list of available tags on <a href="https://cloud.docker.com/u/taconsol/repository/docker/taconsol/sakuli" target="_blank" rel="noopener">Dockerhub</a></p>
<h2 id="running-sakuli-test-containers">2 Running Sakuli Test Containers</h2>
<p>Docker allows to pass parameters when starting a new container:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --rm <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -p 5901:5901 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -p 6901:6901 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    <span style="color:#f92672">[</span>--shm-size<span style="color:#f92672">=</span>2G<span style="color:#f92672">]</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    taconsol/sakuli:2.4.0-1</code></pre></div>
<p>Parameters:</p>
<ul>
<li><strong>--rm</strong>: The test container will be removed after execution, not just stopped</li>
<li><strong>-p</strong>: Port forwardings. VNC is available on port 5901, the HTML5 webVNC view is exposed on port 6901 on the Docker host</li>
<li><strong>&ndash;shm-size</strong>: <em>(Optional Parameter)</em> Increases the size of the shared memory space of the container. The default value is 64MB. This might be required when testing larger websites. Indicators that a shared memory enlargement is required are container crashes, the erroneous loading of websites or <code>invalid session id</code> errors due to crashed browsers.</li>
</ul>
<blockquote>
<p>Sakuli Test Containers run as non-root user, the default UID is 1000.</p>
</blockquote>
<h2 id="3-anatomy-of-a-containerized-sakuli-test">3 Anatomy of a Containerized Sakuli Test</h2>
<p>In general, the structure of a containerized Sakuli test does not differ from any other Sakuli test.
No changes are required when executing a test inside a container.
The only configuration we have to provide, is information about how and which suite should be executed.</p>
<h2 id="4-configuring-a-containerized-test">4 Configuring a Containerized Test</h2>
<p>The default behaviour of a Sakuli Test Container is to run <code>npm test</code> to execute a test suite,
so to run a custom test we have to:</p>
<ol>
<li>Provide the test project to the container</li>
<li>Specify the location of the test suite inside the container</li>
<li>Configure what to execute on <code>npm test</code> within the test suite or project</li>
</ol>
<h3 id="41-provide-the-test-project-to-the-container">4.1 Provide the test project to the container</h3>
<p>There are various ways to provide test sources to a container:</p>
<ul>
<li>Bind mounts</li>
<li>Extending a base image</li>
<li>Clone a git repository</li>
</ul>
<h4 id="411-bind-mounts">4.1.1 Bind Mounts</h4>
<p>When running a Docker container it is possible to mount a file or directory on the Docker host into a container.
This mechanism can be used to provide a Sakuli projects to a Sakuli container:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run <span style="color:#ae81ff">\ </span>
    -v /path/to/test/project/on/host:/sakuli_project <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    taconsol/sakuli:2.4.0-1 /bin/bash</code></pre></div>
<p>By adding the <strong>-v</strong> parameter we&rsquo;re mounting the root folder of a Sakuli project at <code>/path/to/test/project/on/host</code> on our host machine to <code>/sakuli_project</code> inside the container.
We are now able to execute a test suite inside the container via <code>sakuli run /sakuli_project/test_suite_folder</code>.</p>
<p>Bind mounts are easy to use and very useful during development.</p>
<p>For further information, please refer to the <a href="https://docs.docker.com/storage/bind-mounts/" target="_blank" rel="noopener">Docker documentation on bind mounts</a></p>
<p>Instead of starting the test suite manually via <code>/bin/bash</code>, you could use the default entry point of the container.
To be able to do so, you have to specify the environment variable <code>SAKULI_TEST_SUITE</code> containing the path of the test suite to execute <em>inside</em> the container.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -v /path/to/test/project/on/host:/sakuli_project <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -e SAKULI_TEST_SUITE<span style="color:#f92672">=</span>/sakuli_project/test_suite_folder <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    taconsol/sakuli:2.4.0-1</code></pre></div>
<h4 id="412-extending-a-base-image">4.1.2 Extending a Base Image</h4>
<p>Once you have a test suite which should be put into work. Binding mounts might become cumbersome and makes it hard
to reproduce certain state of the test project, suite or case. To ensure a reproducible environment, it would be feasible to
build an explicit Docker image for test execution.</p>
<p>We can do so by creating our own Dockerfile next to our project directory:</p>
<ul>
<li><i class="fas fa-folder"></i> <strong>/folder/containing/Dockerfile/and/project</strong></li>
<li><i class="far fa-file"></i> <strong>Dockerfile</strong></li>
<li><i class="fas fa-folder"></i> <strong>testsuite-a</strong></li>
<li><i class="far fa-file"></i> <strong>package.json</strong></li>
<li><i class="far fa-file"></i> <strong>&hellip;</strong></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">FROM taconsol/sakuli:2.4.0-1

ADD . <span style="color:#ae81ff">\$</span>HOME/sakuli_project
ENV SAKULI_TEST_SUITE <span style="color:#ae81ff">\$</span>HOME/sakuli_project/testsuite-a</code></pre></div>
<p>Using this Dockerfile, we can now build our own test image by running the following command where the dockerfile is located:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build -t name-of-my-image .</code></pre></div>
<p>We can now run the newly built image via:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run name-of-my-image</code></pre></div>
<blockquote>
<p>When working with added files and folders inside a container, one has to ensure correct file permissions for added files.</p>
</blockquote>
<h4 id="413-clone-a-git-repository">4.1.3 Clone a git repository</h4>
<p><strong>Available from v2.4.0</strong></p>
<p>The Sakuli container provides a mechanism to clone a git repository containing a sakuli project at container start
and subsequently executing a testsuite within it:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -e GIT_URL<span style="color:#f92672">=</span>&lt;REPOSITORY URL&gt; -e GIT_CONTEXT_DIR<span style="color:#f92672">=</span>&lt;RELATIVE PATH TO TESTSUITE&gt; taconsol/sakuli:2.4.0-1</code></pre></div></p>
<p><code>GIT_URL</code> specifies the URL of the repository to be cloned. To access a private repository, please ensure, your git service provides the possibility to authenticate via URL parameters.
This is possible with common git services like <a href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token">GitHub</a>, <a href="https://docs.gitlab.com/ee/user/project/deploy_tokens/#git-clone-a-repository">Gitlab</a> and <a href="https://confluence.atlassian.com/bitbucketserver/personal-access-tokens-939515499.html?_ga=2.213635799.231132925.1597055610-1046501904.1597055610">Bitbucket</a>.
To authenticate with a token on GitHub, use: <code>https://&lt;token&gt;@github.com/&lt;username&gt;/&lt;repository.git&gt;</code>.</p>
<p><code>GIT_CONTEXT_DIR</code> is necessary to specify the path to the sakuli test suite inside the cloned repository.</p>
<h3 id="42-configure-command-on-npm-test">4.2 Configure command on <code>npm test</code></h3>
<p>The main configuration file of a npm project is its <code>package.json</code> file.
Within this file it&rsquo;s possible to configure <a href="https://docs.npmjs.com/misc/scripts" target="_blank" rel="noopener">npm-scripts</a>, a handy way to execute scripts inside an npm project.</p>
<p>An empty project initialised via <code>npm init</code> already contains one script: <code>npm test</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">...
<span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#f92672">:</span> {
<span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>
},
...
</code></pre></div>
<p><code>npm test</code> is the default way of executing tests in a npm project, so Sakuli tests should be executed this way, too!</p>
<p>Since Sakuli is available in the container, we can run our test by simply calling <code>sakuli run ...</code> on <code>npm test</code>.
As your test suites are located within the same folder as our <code>package.json</code>, so a test suite can be run via:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">...
<span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#f92672">:</span> {
<span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;sakuli run /path/to/your/test/suite&#34;</span>
},
...
</code></pre></div>
<p>Reusing the package.json on project level comes with one limitation: You have only one &ldquo;test&rdquo; script available. If you
decide to put multiple test suites into one project, we recommend putting a package.json on suite level as well.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{
  <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;test-suite&#34;</span>,
  <span style="color:#e6db74">&#34;version&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
  <span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;sakuli run .&#34;</span>
  }
}
</code></pre></div>
<blockquote>
<p>Please notice that this is just suitable if you plan to execute the suite in the container.</p>
</blockquote>
<h4 id="421-troubleshooting">4.2.1 Troubleshooting</h4>
<p>This topic covers possible errors when running containerized Sakuli tests.</p>
<h4 id="4211-additional-dependencies">4.2.1.1 Additional dependencies</h4>
<p><strong>(Available from v2.5.0)</strong>
In case your test project requires additional dependencies, it&rsquo;s possible to run <code>npm install</code> before executing the Sakuli test.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">...
<span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#f92672">:</span> {
<span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;npm i &amp;&amp; sakuli run /path/to/your/test/suite&#34;</span>
},
...
</code></pre></div>
<p>The Container supports package installation, configurable via the environment variable
<code>INSTALL_PACKAGES=true</code>. This will install all packages defined in your <code>package.json</code> at container startup.</p>
<blockquote>
<p><strong>Note:</strong> Package versions installed inside the container will be overwritten by the version defined in the <code>package.json</code>.<br>
This might cause unexpected behavior, if overwriting e.g. Sakuli itself <code>(@sakuli/cli)</code> or forwarders.
By installing third-party packages, the functionality of the packages and Sakuli itself can be impaired.</p>
</blockquote>
<h2 id="5-viewing--configuring-test-execution">5 Viewing / Configuring Test Execution</h2>
<p>Sakuli test containers allow to configure specific details of their runtime environment.</p>
<h3 id="51-vnc-access">5.1 VNC Access</h3>
<p>Sakuli containers provide access to running containers via VNC on ports 5901 and 6901.
By specifying port forwarding (<strong>-p</strong>) it is possible to configure which ports will be used to connect to a running container on the host system.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --rm -p 5901:5901 -p 6901:6901 taconsol/sakuli:2.4.0-1</code></pre></div>
<p>The example above forwards container ports 5901 and 6901 to the same ports on the host system.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --rm -p 5000:5901 -p 6000:6901 taconsol/sakuli:2.4.0-1</code></pre></div>
<p>In this example container port 5901 is forwarded to port 5000 on the host system, port 6901 is forwarded to port 6000 on the host system.
<code>localhost:5000</code> would be used to connect to the container via VNC client, on <code>localhost:6000</code> a webVNC view is available in the browser.</p>
<blockquote>
<p>The default password to access a container via VNC is <code>vncpassword</code>. It is <strong>highly</strong> recommended changing this password in production environments. See section <a href="#5-2-configuring-vnc-access">#5.2</a> for details.</p>
</blockquote>
<h3 id="52-configuring-vnc-access">5.2 Configuring VNC Access</h3>
<p>The following VNC environment variables can be overwritten at the docker run phase to customize your desktop environment inside the container:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">VNC_COL_DEPTH, default: <span style="color:#ae81ff">24</span> // Color depth

VNC_RESOLUTION, default: 1280x1024 // Screen resolution

VNC_PW, default: vncpassword // VNC password

VNC_VIEW_ONLY, default: false // Run in view only mode, no keyboard / mouse interaction possible</code></pre></div>
<p>For example, the password for VNC could be set like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~<span style="color:#ae81ff">\$</span> docker run -p 5901:5901 -p 6901:6901 -e VNC_PW<span style="color:#f92672">=</span>my-new-password taconsol/sakuli:2.4.0-1</code></pre></div>
<h3 id="53-container-user">5.3 Container User</h3>
<p>Per default all container processes will be executed with user id 1000.</p>
<ul>
<li>
<p>Using root (user id 0):
Add the --user flag to your docker run command:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">  ~<span style="color:#ae81ff">\$</span> docker run -it -p 5901:5901 -p 6901:6901 --user <span style="color:#ae81ff">0</span> taconsol/sakuli:2.4.0-1
  </code></pre></div></p>
</li>
<li>
<p>Using user and group id of host system
Add the --user flag to your docker run command:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">  ~$ docker run -it -p 5901:5901 -p 6901:6901 --user <span style="color:#66d9ef">$(</span>id -u<span style="color:#66d9ef">)</span>:<span style="color:#ae81ff">\$</span><span style="color:#f92672">(</span>id -g<span style="color:#f92672">)</span> taconsol/sakuli:2.4.0-1
  </code></pre></div></p>
</li>
</ul>
<h2 id="6-custom-certificates">6 Custom Certificates</h2>
<p>Internal infrastructure often uses custom certificates with own root CAs etc.
Things like untrusted certificates cause Sakuli tests to fail, since no connection to a seemingly insecure host will be established (<code>InsecureCertificateError</code>).</p>
<p>Unfortunately, browsers use their own certificate store, which requires some additional work to add custom certificates.</p>
<h4 id="61-adding-custom-certificates">6.1 Adding Custom Certificates</h4>
<p>In order to add custom certificates to a Sakuli container, one has to provide two things:</p>
<ul>
<li>A directory containing certificates for import (_.crt, _.cer, *.pem)</li>
<li>An environment variable called <code>SAKULI_TRUSTED_CERT_DIR</code> which holds the path to the directory where certificates for import are located inside the container</li>
</ul>
<p>If the environment variable has been set, a startup script will pick up all certificates contained in the given folder
and import each of them to all available browser certificate stores within <code>$HOME</code>, supporting both <code>cert8.db</code> databases
for older browser versions as well as <code>cert9.db</code> files for recent browser versions.</p>
<h4 id="62-sample">6.2 Sample</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ docker run -v /path/to/certificates/:/certificate_import -e SAKULI_TRUSTED_CERT_DIR<span style="color:#f92672">=</span>/certificate_import/ taconsol/sakuli:2.4.0-1</code></pre></div>
<h4 id="63-firefox">6.3 Firefox</h4>
<p>By default, a Firefox test uses a new, blank profile for each test suite execution. In order to pick up the added certificates,
a Firefox profile containing the appropriate certificate database has to be specified via
<code>selenium.firefox.profile=/path/to/profile/folder</code> in <code>testsuite.properties</code>. In order to make this process easier, a
dedicated Firefox profile for use with certificates is located at <code>/headless/firefox-certificates</code> to be used, instead
of the generated profiles in <code>/headless/.mozilla/firefox/long_random_id.default</code>.</p>
<p><strong>Attention:</strong> If this property is not set, added certificates will have no effect.</p>
<h2 id="remote-connection-container">7 Remote desktop protocol (RDP) connections</h2>
<p>There are use cases that cannot be covered with the standard Linux based Sakuli container e.g. testing software that is
only available for Microsoft Windows or automating processes in SAP. If you still want to leverage the flexibility and
scalability of a container based Sakuli execution, we provide the <code>sakuli-remote-connection</code> container. This image
ships with a <a href="https://remmina.org/">remmina</a> installation to connect to a remote Windows machine using RDP.</p>
<h3 id="71-rdp-example">7.1 RDP example</h3>
<p>To start remmina with a prepared configuration, please ensure to mount the required config file into the container using
a volume or to create a base image with the configuration installed.</p>
<p>Sakuli check:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript">(<span style="color:#a6e22e">async</span> () <span style="color:#f92672">=&gt;</span> {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">remmina</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Application</span>(<span style="color:#e6db74">`remmina --connect &lt;path/to/remmina/config.rdp&gt;`</span>);
    <span style="color:#66d9ef">try</span> {
        <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">remmina</span>.<span style="color:#a6e22e">open</span>();
        <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">sleep</span>(<span style="color:#ae81ff">2</span>); <span style="color:#75715e">//wait for remmina to open
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">TAB</span>)
            .<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">TAB</span>)
            .<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">ENTER</span>); <span style="color:#75715e">//accept certificate
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#34;&lt;Username&gt;&#34;</span>)
            .<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">TAB</span>)
            .<span style="color:#a6e22e">pasteAndDecrypt</span>(<span style="color:#e6db74">&#34;&lt;encryptedPassword&gt;&#34;</span>)
            .<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">TAB</span>)
            .<span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#34;&lt;Domain&gt;&#34;</span>)
            .<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">TAB</span>)
            .<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">TAB</span>)
            .<span style="color:#a6e22e">type</span>(<span style="color:#a6e22e">Key</span>.<span style="color:#a6e22e">ENTER</span>); <span style="color:#75715e">//login to windows host
</span><span style="color:#75715e"></span>            
        <span style="color:#75715e">// perform actions on host  
</span><span style="color:#75715e"></span>        
        <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">remmina</span>.<span style="color:#a6e22e">close</span>();
    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
        <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">testCase</span>.<span style="color:#a6e22e">handleException</span>(<span style="color:#a6e22e">e</span>);
    } <span style="color:#66d9ef">finally</span> {
        <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">testCase</span>.<span style="color:#a6e22e">saveResult</span>();
    }
})();
</code></pre></div></p>
<p>Sample <code>config.rdp</code>:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#a6e22e">screen</span> <span style="color:#a6e22e">mode</span> <span style="color:#a6e22e">id</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">2</span>
<span style="color:#a6e22e">session</span> <span style="color:#a6e22e">bpp</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">64</span>
<span style="color:#a6e22e">compression</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">keyboardhook</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">2</span>
<span style="color:#a6e22e">displayconnectionbar</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">disable</span> <span style="color:#a6e22e">wallpaper</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">disable</span> <span style="color:#a6e22e">full</span> window <span style="color:#a6e22e">drag</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">allow</span> <span style="color:#a6e22e">desktop</span> <span style="color:#a6e22e">composition</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">allow</span> <span style="color:#a6e22e">font</span> <span style="color:#a6e22e">smoothing</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">disable</span> <span style="color:#a6e22e">menu</span> <span style="color:#a6e22e">anims</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">disable</span> <span style="color:#a6e22e">themes</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">disable</span> <span style="color:#a6e22e">cursor</span> <span style="color:#a6e22e">setting</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">bitmapcachepersistenable</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">full</span> <span style="color:#a6e22e">address</span>:<span style="color:#66d9ef">s</span><span style="color:#f92672">:</span><span style="color:#ae81ff">35.158</span>.<span style="color:#ae81ff">200.121</span>
<span style="color:#a6e22e">audiomode</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">2</span>
<span style="color:#a6e22e">microphone</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">redirectprinters</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">redirectsmartcard</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">redirectcomports</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">redirectsmartcards</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">redirectclipboard</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">redirectposdevices</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">autoreconnection</span> <span style="color:#a6e22e">enabled</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">authentication</span> <span style="color:#a6e22e">level</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">prompt</span> <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">credentials</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">negotiate</span> <span style="color:#a6e22e">security</span> <span style="color:#a6e22e">layer</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">remoteapplicationmode</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">alternate</span> <span style="color:#a6e22e">shell</span>:<span style="color:#66d9ef">s</span><span style="color:#f92672">:</span>
<span style="color:#a6e22e">shell</span> <span style="color:#a6e22e">working</span> <span style="color:#a6e22e">directory</span>:<span style="color:#66d9ef">s</span><span style="color:#f92672">:</span>
<span style="color:#a6e22e">gatewayhostname</span>:<span style="color:#66d9ef">s</span><span style="color:#f92672">:</span>
<span style="color:#a6e22e">gatewayusagemethod</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">4</span>
<span style="color:#a6e22e">gatewaycredentialssource</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">4</span>
<span style="color:#a6e22e">gatewayprofileusagemethod</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
<span style="color:#a6e22e">precommand</span>:<span style="color:#66d9ef">s</span><span style="color:#f92672">:</span>
<span style="color:#a6e22e">promptcredentialonce</span>:<span style="color:#66d9ef">i</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">drivestoredirect</span>:<span style="color:#66d9ef">s</span><span style="color:#f92672">:</span>
</code></pre></div></p>
<p>To execute test actions on the RDP host, we recommend to use keyboard shortcuts instead of image recognition
to increase stability. In case you want to use Sakuli browser interaction in your check, it is required to install a
Selenium Server on the Windows host and configure Sakuli to connect the browser functionality with the Selenium Server.</p>
<h2 id="8-overview-environment-variables">8 Overview Environment Variables</h2>
<table>
<thead>
<tr>
<th>Environment Variable</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SAKULI_TEST_SUITE</td>
<td></td>
<td>Path to Sakuli testsuite to be executed</td>
</tr>
<tr>
<td>VNC_COL_DEPTH</td>
<td>24</td>
<td>Color depth of container monitor</td>
</tr>
<tr>
<td>VNC_RESOLUTION</td>
<td>1280x1024</td>
<td>Screen resolution of container</td>
</tr>
<tr>
<td>VNC_PW</td>
<td>vncpassword</td>
<td>Password to access NoVNC/VNC connection</td>
</tr>
<tr>
<td>VNC_VIEW_ONLY</td>
<td>false</td>
<td>Enable/Disable view-only mode</td>
</tr>
<tr>
<td>SAKULI_TRUSTED_CERT_DIR</td>
<td></td>
<td>Directory containing custom certificates for import</td>
</tr>
<tr>
<td>GIT_URL</td>
<td></td>
<td>URL of git repository</td>
</tr>
<tr>
<td>GIT_CONTEXT_DIR</td>
<td></td>
<td>Path to Sakuli testsuite within the git repository</td>
</tr>
<tr>
<td>DEBUG</td>
<td>false</td>
<td>Enables debug mode for container startup</td>
</tr>
<tr>
<td>INSTALL_PACKAGES</td>
<td>false</td>
<td>Installs packages defined in the <code>package.json</code> at container startup <strong>(Available from v2.5.0)</strong></td>
</tr>
<tr>
<td>LANGUAGE</td>
<td>en_US:en</td>
<td>Changes Language for Chrome (available values: en_US:en, de_DE:de) <a href="https://help.ubuntu.com/community/EnvironmentVariables#The_LANGUAGE_priority_list" target="_blank">(System variable of Ubuntu)</a> <strong>(available in tech preview)</strong></td>
</tr>
<tr>
<td>LC_ALL</td>
<td>en_US.UTF-8</td>
<td>Changes Language for Firefox (available values: en_US.UTF-8, de_DE.utf-8) <a href="https://help.ubuntu.com/community/EnvironmentVariables#The_LANGUAGE_priority_list" target="_blank">(System variable of Ubuntu)</a> <strong>(available in tech preview)</strong></td>
</tr>
</tbody>
</table>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/docs/modules/omd/" title="OMD Forwarder"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/docs/modules/s2i/" title="S2I Image" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/docs/js/clipboard.min.js"></script>
    <script src="/docs/js/perfect-scrollbar.min.js"></script>
    <script src="/docs/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="/docs/js/jquery.sticky.js"></script>
    <script src="/docs/js/featherlight.min.js"></script>
    <script src="/docs/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/docs/js/modernizr.custom-3.6.0.js"></script>
    <script src="/docs/js/learn.js"></script>
    <script src="/docs/js/hugo-learn.js"></script>
    <script src="/docs/js/klaroCookie/config.js"></script>
    <script src="/docs/js/klaroCookie/klaro.js"></script>

    <link href="/docs/mermaid/mermaid.css" rel="stylesheet" />
    <script src="/docs/mermaid/mermaid.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

