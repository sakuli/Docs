<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="description" content="">


    <link rel="icon" href="/docs/images/favicon.png" type="image/png">

    <title>Sakuli</title>

    
    <link href="/docs/css/nucleus.css" rel="stylesheet">
    <link href="/docs/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="/docs/css/hybrid.css" rel="stylesheet">
    <link href="/docs/css/featherlight.min.css" rel="stylesheet">
    <link href="/docs/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/docs/css/auto-complete.css" rel="stylesheet">
    <link href="/docs/css/atom-one-dark-reasonable.css" rel="stylesheet">
    <link href="/docs/css/theme.css" rel="stylesheet">
    <link href="/docs/css/hugo-theme.css" rel="stylesheet">
    

    <script src="/docs/js/jquery-3.3.1.min.js"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/docs/modules/ocr/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
  <img src="/docs/images/sakuli_01.svg" style="width: 250px; display: block; height: auto" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/docs/js/lunr.min.js"></script>
<script type="text/javascript" src="/docs/js/auto-complete.js"></script>
<script type="text/javascript">
    
        var baseurl = "\/docs";
    
</script>
<script type="text/javascript" src="/docs/js/search.js"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/docs/getting-started/" title="Getting Started" class="dd-item
        
        
        
        ">
      <a href="/docs/getting-started/">
          <i class='fas fa-chevron-right'></i>  Getting Started
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/prerequisites/" title="Prerequisites" class="dd-item ">
        <a href="/docs/getting-started/prerequisites/">
        Prerequisites
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/initialization/" title="Initialization" class="dd-item ">
        <a href="/docs/getting-started/initialization/">
        Initialization
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/installation/" title="Installation" class="dd-item ">
        <a href="/docs/getting-started/installation/">
        Installation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/firsttest/" title="First Setup" class="dd-item ">
        <a href="/docs/getting-started/firsttest/">
        First Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/getting-started/version-control/" title="Version control systems" class="dd-item ">
        <a href="/docs/getting-started/version-control/">
        Version control systems
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/writing_tests/" title="Writing Tests" class="dd-item
        
        
        
        ">
      <a href="/docs/writing_tests/">
          <i class='fas fa-chevron-right'></i>  Writing Tests
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/anatomy/" title="Anatomy" class="dd-item ">
        <a href="/docs/writing_tests/anatomy/">
        Anatomy
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/interact/" title="Interact" class="dd-item ">
        <a href="/docs/writing_tests/interact/">
        Interact
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/screenshot/" title="Screenshot" class="dd-item ">
        <a href="/docs/writing_tests/screenshot/">
        Screenshot
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/application/" title="Native applications" class="dd-item ">
        <a href="/docs/writing_tests/application/">
        Native applications
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/webtests/" title="Webtests" class="dd-item ">
        <a href="/docs/writing_tests/webtests/">
        Webtests
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/tutorial/" title="Tutorial" class="dd-item ">
        <a href="/docs/writing_tests/tutorial/">
        Tutorial
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/writing_tests/migration-sakuli-1/" title="Migration from Sakuli 1" class="dd-item ">
        <a href="/docs/writing_tests/migration-sakuli-1/">
        Migration from Sakuli 1
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/configuring_tests/" title="Configuring Tests" class="dd-item
        
        
        
        ">
      <a href="/docs/configuring_tests/">
          <i class='fas fa-chevron-right'></i>  Configuring Tests
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/configuring_tests/sakuli-properties/" title="Sakuli properties" class="dd-item ">
        <a href="/docs/configuring_tests/sakuli-properties/">
        Sakuli properties
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/configuring_tests/logging/" title="Logging" class="dd-item ">
        <a href="/docs/configuring_tests/logging/">
        Logging
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/modules/" title="Modules" class="dd-item
        parent
        
        
        ">
      <a href="/docs/modules/">
          <i class='fas fa-chevron-right'></i>  Modules
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/icinga/" title="Icinga2 Forwarder" class="dd-item ">
        <a href="/docs/modules/icinga/">
        Icinga2 Forwarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/prometheus/" title="Prometheus Fowarder" class="dd-item ">
        <a href="/docs/modules/prometheus/">
        Prometheus Fowarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/check/" title="checkmk Fowarder" class="dd-item ">
        <a href="/docs/modules/check/">
        checkmk Fowarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/omd/" title="OMD Forwarder" class="dd-item ">
        <a href="/docs/modules/omd/">
        OMD Forwarder
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/container/" title="Container" class="dd-item ">
        <a href="/docs/modules/container/">
        Container
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/s2i/" title="S2I Image" class="dd-item ">
        <a href="/docs/modules/s2i/">
        S2I Image
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/sakuli-dashboard-deployment/" title="Sakuli Dashboard" class="dd-item ">
        <a href="/docs/modules/sakuli-dashboard-deployment/">
        Sakuli Dashboard
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/sakuli-dashboard-configuration/" title="Sakuli Dashboard Configuration" class="dd-item ">
        <a href="/docs/modules/sakuli-dashboard-configuration/">
        Sakuli Dashboard Configuration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/modules/ocr/" title="Optical character recognition (OCR)" class="dd-item active">
        <a href="/docs/modules/ocr/">
        Optical character recognition (OCR)
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/cli/" title="CLI" class="dd-item
        
        
        
        ">
      <a href="/docs/cli/">
          <i class='fas fa-chevron-right'></i>  CLI
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/cookbook/" title="Cookbook" class="dd-item
        
        
        
        ">
      <a href="/docs/cookbook/">
          <i class='fas fa-chevron-right'></i>  Cookbook
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/tabs/" title="Tabs" class="dd-item ">
        <a href="/docs/cookbook/tabs/">
        Tabs
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/logging/" title="Logging" class="dd-item ">
        <a href="/docs/cookbook/logging/">
        Logging
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/handling-forms/" title="Handling forms" class="dd-item ">
        <a href="/docs/cookbook/handling-forms/">
        Handling forms
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/waiting/" title="Waiting" class="dd-item ">
        <a href="/docs/cookbook/waiting/">
        Waiting
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/invalid-session-id/" title="Error: Invalid session id" class="dd-item ">
        <a href="/docs/cookbook/invalid-session-id/">
        Error: Invalid session id
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/container/" title="Run Container" class="dd-item ">
        <a href="/docs/cookbook/container/">
        Run Container
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/proxy/" title="Container and Proxies" class="dd-item ">
        <a href="/docs/cookbook/proxy/">
        Container and Proxies
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cookbook/frames/" title="Frames" class="dd-item ">
        <a href="/docs/cookbook/frames/">
        Frames
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/change_notes/" title="Change notes" class="dd-item
        
        
        
        ">
      <a href="/docs/change_notes/">
          <i class='fas fa-chevron-right'></i>  Change notes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/docs/change_notes/2.3.0/" title="V2.3.0" class="dd-item ">
        <a href="/docs/change_notes/2.3.0/">
        V2.3.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/change_notes/2.4.0/" title="V2.4.0" class="dd-item ">
        <a href="/docs/change_notes/2.4.0/">
        V2.4.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/change_notes/2.5.0/" title="V2.5.0" class="dd-item ">
        <a href="/docs/change_notes/2.5.0/">
        V2.5.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/change_notes/3.0.0/" title="V3.0.0" class="dd-item ">
        <a href="/docs/change_notes/3.0.0/">
        V3.0.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      


      
      <div id="apiHead" class="padding">API Docs</div>
      <ul id="apiMenu">
        <li><a href="/apidoc/sakuli-legacy" target="_blank" >@sakuli/legacy</a></li>
      </ul>

      

      <hr/>

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      <li>
        <a class="padding" href="/legalnotice/">
          <i class="fas fa-balance-scale fa-fw"></i> Legal Notice
        </a>
      </li>
      </ul>
    </section>
    
    <section id="footer">
      

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt" ></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/docs/'></a> > <a href='/docs/modules/'>Modules</a> > Optical character recognition (OCR)
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#ocr-in-containers">OCR in containers</a></li>
    <li><a href="#installing-sakuli-ocr">Installing Sakuli OCR</a>
      <ul>
        <li><a href="#add-ocr-module-to-packagejson">Add OCR module to package.json</a></li>
        <li><a href="#installing-tesseract">Installing Tesseract</a></li>
      </ul>
    </li>
    <li><a href="#extracting-text-from-screen">Extracting text from screen</a>
      <ul>
        <li><a href="#reading-the-whole-screen">Reading the whole screen</a></li>
        <li><a href="#reading-text-from-a-specific-region">Reading text from a specific region</a></li>
      </ul>
    </li>
    <li><a href="#finding-a-screen-region-by-text">Finding a screen region by text</a></li>
    <li><a href="#combining-ocr-modules">Combining OCR modules</a></li>
    <li><a href="#troubleshooting">Troubleshooting</a></li>
    <li><a href="#known-issues">Known issues</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            
          

        



<h1 id="optical-character-recognition-ocr">Optical character recognition (OCR)</h1>
<p><strong>(Available from v2.5.0)</strong></p>
<p>With optical character recognition (OCR) it is possible to convert screen content into text. In combination with Sakuli,
it is also possible to automate software based on the text shown on screen.</p>
<h2 id="ocr-in-containers">OCR in containers</h2>
<p>Sakuli containers ship with a complete setup to use the OCR module of Sakuli. OCR module can be used
without any further set up.</p>
<h2 id="installing-sakuli-ocr">Installing Sakuli OCR</h2>
<p>Installing the OCR module of Sakuli on a workstation or virtual machine is possible, but requires some additional steps
and dependencies. We recommend, to use the ready-to-use container for most use cases. A native installation
should only be considered, if the containers don&rsquo;t fit the requirements of your check.</p>
<h3 id="add-ocr-module-to-packagejson">Add OCR module to package.json</h3>
<p>To add the OCR module, please add <code>&quot;@sakuli/ocr&quot;: &quot;next&quot;</code> to your <code>package.json</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;sakuli-project&#34;</span>,
  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;0.8.15&#34;</span>,
  <span style="color:#f92672">&#34;scripts&#34;</span>: {
    <span style="color:#f92672">&#34;test&#34;</span>: <span style="color:#e6db74">&#34;sakuli run test-suite&#34;</span>
  },
  <span style="color:#f92672">&#34;dependencies&#34;</span>: {
    <span style="color:#f92672">&#34;@sakuli/cli&#34;</span>: <span style="color:#e6db74">&#34;next&#34;</span>,
    <span style="color:#f92672">&#34;@sakuli/ocr&#34;</span>: <span style="color:#e6db74">&#34;next&#34;</span>
  }
}
</code></pre></div><p>After altering your <code>package.json</code>, the module can be installed with <code>npm install</code> on command line.</p>
<blockquote>
<p>For more information on how to set up your access the modules, please have a look at the
<a href="/docs/modules">modules documentation</a>.</p>
</blockquote>
<h3 id="installing-tesseract">Installing Tesseract</h3>
<p>Sakuli OCR uses Tesseract to read text from the screen. For performance and quality reasons, a native installation of
tesseract is required. Please ensure to install a Tesseract version &gt;= <strong>4.1.1</strong>. For more information on how to obtain
and install Tesseract on your machine, please have a look at the
<a href="https://github.com/tesseract-ocr/tessdoc/blob/master/Downloads.md">official Tesseract documentation</a>.</p>
<h2 id="extracting-text-from-screen">Extracting text from screen</h2>
<p>To read text from the screen, Sakuli OCR ships with the test step <code>_getTextFromRegion()</code>. The function returns all text
on the screen including line feeds.</p>
<h3 id="reading-the-whole-screen">Reading the whole screen</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">_getTextFromRegion</span>(<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Region</span>());
</code></pre></div><h3 id="reading-text-from-a-specific-region">Reading text from a specific region</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">regionToRead</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Region</span>(<span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">50</span>);
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">textOfRegion</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">_getTextFromRegion</span>(<span style="color:#a6e22e">regionToRead</span>);
</code></pre></div><p><code>new Region(50, 100, 400, 50);</code> creates a region with the following specification:</p>
<ul>
<li>x = 50 px</li>
<li>y = 100 px</li>
<li>width: 400 px</li>
<li>height: 50 px</li>
</ul>
<p>The constant <code>textOfRegion</code> will only contain the text from this specific region of the screen.</p>
<h2 id="finding-a-screen-region-by-text">Finding a screen region by text</h2>
<p>With Sakuli, it is also possible to automate software based on the text shown on the screen. <code>_getRegionByText()</code>
provides the possibility to search for a specified text on the screen or in a specified region of the screen. Once the
location of the text is determined, it is possible to e.g. move the mouse to the location and click on it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#a6e22e">await</span> <span style="color:#a6e22e">_getRegionByText</span>(<span style="color:#e6db74">&#34;Continue&#34;</span>).<span style="color:#a6e22e">click</span>();
</code></pre></div><p>This sample would search the screen for the text &ldquo;Continue&rdquo; and subsequently click on it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">searchRegion</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Region</span>(<span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">50</span>);
<span style="color:#a6e22e">await</span> <span style="color:#a6e22e">_getRegionByText</span>(<span style="color:#e6db74">&#34;Continue&#34;</span>, <span style="color:#a6e22e">searchRegion</span>).<span style="color:#a6e22e">click</span>();
</code></pre></div><p><code>new Region(50, 100, 400, 50);</code> creates a region with the following specification:</p>
<ul>
<li>x = 50 px</li>
<li>y = 100 px</li>
<li>width: 400 px</li>
<li>height: 50 px</li>
</ul>
<p>In this sample, the search for the text &ldquo;Continue&rdquo; would be limited to the specified screen region.</p>
<h2 id="combining-ocr-modules">Combining OCR modules</h2>
<p>One common use case would be to extract text from a certain region of the screen e.g. from an offer or invoice for
further validation.</p>
<p><img src="/docs/images/consol_offer.png" alt="offer"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript">(<span style="color:#a6e22e">async</span> () <span style="color:#f92672">=&gt;</span> {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">testCase</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">TestCase</span>(<span style="color:#e6db74">&#34;Check offer&#34;</span>);
  <span style="color:#66d9ef">try</span> {
    <span style="color:#75715e">// ...
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">offerNumberRegion</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">_getRegionByText</span>(<span style="color:#e6db74">&#34;offer number&#34;</span>).<span style="color:#a6e22e">grow</span>(<span style="color:#ae81ff">10</span>);
</span><span style="display:block;width:100%;background-color:#3c3d38">    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">offerNumber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">_getTextFromRegion</span>(<span style="color:#a6e22e">offerNumberRegion</span>);
</span>    
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">expectedOrderNumber</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/42-XBC-09453/</span>;
    <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">_assert</span>(<span style="color:#a6e22e">Promise</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#f92672">!!</span><span style="color:#a6e22e">offerNumber</span>.<span style="color:#a6e22e">match</span>(<span style="color:#a6e22e">expectedOrderNumber</span>)),
      <span style="color:#e6db74">`Found </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">offerNumber</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> instead of </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">expectedOrderNumber</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
    <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
    <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">testCase</span>.<span style="color:#a6e22e">handleException</span>(<span style="color:#a6e22e">e</span>);
  } <span style="color:#66d9ef">finally</span> {
    <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">testCase</span>.<span style="color:#a6e22e">saveResult</span>();
  }
})();
</code></pre></div><p>This check would search for the &ldquo;offer number&rdquo; in the pdf, extract the whole offer number and compare it to an expected
value.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>The quality of OCR results highly depends on the screen content. Here are some aspects to consider when OCR does not
recognize the text you expect:</p>
<ul>
<li>A lower screen resolution might help due to bigger fonts</li>
<li>Bigger fonts are better than smaller fonts</li>
<li>High contrasts are helpful. Reading yellow text from white background might cause issues.</li>
</ul>
<p>In case you want to have some insights in what tesseract &ldquo;sees&rdquo; through a Sakuli automation, you can easily adapt log
levels to show details of the OCR process.</p>
<ul>
<li>Debug Level
<ul>
<li>provides the tesseract cli call for reconstruction purposes</li>
<li>provides the tesseract config on cli level</li>
<li>provide details on post processing of the screen content</li>
</ul>
</li>
<li>Trace Level
<ul>
<li>writes the received text from <code>_getTextFromRegion()</code> to the logs</li>
<li>write the received alto xml from <code>_getRegionByText()</code> to the logs</li>
</ul>
</li>
</ul>
<h2 id="known-issues">Known issues</h2>
<ul>
<li>There is currently a bug in an upstream library causing <a href="https://github.com/nut-tree/nut.js/issues/194">issues with OCR on macOS</a>.</li>
</ul>


<footer class=" footline" >
	
</footer>


        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/docs/modules/sakuli-dashboard-configuration/" title="Sakuli Dashboard Configuration"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/docs/cli/" title="CLI" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/docs/js/clipboard.min.js"></script>
    <script src="/docs/js/perfect-scrollbar.min.js"></script>
    <script src="/docs/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="/docs/js/jquery.sticky.js"></script>
    <script src="/docs/js/featherlight.min.js"></script>
    <script src="/docs/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/docs/js/modernizr.custom-3.6.0.js"></script>
    <script src="/docs/js/learn.js"></script>
    <script src="/docs/js/hugo-learn.js"></script>

    <link href="/docs/mermaid/mermaid.css" rel="stylesheet" />
    <script src="/docs/mermaid/mermaid.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

